------------------------------------------------------------------------
-- TIPOS E DADOS
------------------------------------------------------------------------

id = { 1..3 }
datatype produto =  notebook | televisao | tablet | celular
preco = { 1..10 }

------------------------------------------------------------------------
-- CANAIS
------------------------------------------------------------------------

channel programarVendedor : id.produto.preco
channel abrirLeilao, iniciarLeilao : id.produto.preco
------------------------------------------------------------------------
-- USUARIO
------------------------------------------------------------------------

USUARIO(id_usuario, produto, preco) = 
        programarVendedor!id_usuario!produto!preco -> USUARIO(id_usuario, produto, preco)

------------------------------------------------------------------------
-- AGENTE
------------------------------------------------------------------------

AGENTE(id_agente, produto, preco) = 
    
    programarVendedor?id_agente?produto?preco -> 

        abrirLeilao!id_agente!produto!preco -> 

            AGENTE(id_agente, produto, preco)

------------------------------------------------------------------------
-- SERVIDOR
------------------------------------------------------------------------
SERVIDOR = abrirLeilao?id_vendedor?produto?preco -> LEILOES(id_vendedor, produto, preco) ; SERVIDOR

LEILOES(id_vendedor, produto, preco) = ||| id: id @ LEILAO(id, id_vendedor, produto, preco)

assert SERVIDOR :[deterministic]
assert SERVIDOR :[deadlock free]
------------------------------------------------------------------------
-- LEILAO
------------------------------------------------------------------------

LEILAO(id, id_vendedor, produto, preco) = SKIP
    


------------------------------------------------------------------------
-- SYNC
------------------------------------------------------------------------

-- 
